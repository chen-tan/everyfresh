(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7baa909e"],{"3c7f":function(e,r,a){"use strict";a.r(r);var t=function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("div",{staticClass:"login-panel"},[a("div",{staticClass:"title"},[e._v("注册")]),a("a-form-model",e._b({ref:"regForm",attrs:{model:e.regForm,rules:e.rules}},"a-form-model",e.layout,!1),[a("a-form-model-item",{attrs:{"has-feedback":"",label:"邮箱",prop:"email"}},[a("a-input",{model:{value:e.regForm.email,callback:function(r){e.$set(e.regForm,"email",r)},expression:"regForm.email"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"用户名",prop:"username"}},[a("a-input",{model:{value:e.regForm.username,callback:function(r){e.$set(e.regForm,"username",r)},expression:"regForm.username"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"密码",prop:"password"}},[a("a-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.regForm.password,callback:function(r){e.$set(e.regForm,"password",r)},expression:"regForm.password"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"确认密码",prop:"checkPass"}},[a("a-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.regForm.checkPass,callback:function(r){e.$set(e.regForm,"checkPass",r)},expression:"regForm.checkPass"}})],1),a("a-form-model-item",{attrs:{"has-feedback":"",label:"验证码",prop:"code"}},[a("a-input",{model:{value:e.regForm.code,callback:function(r){e.$set(e.regForm,"code",r)},expression:"regForm.code"}})],1),a("a-form-model-item",{attrs:{label:"用户角色"}},[a("a-select",{attrs:{placeholder:"请选择用户角色"},model:{value:e.regForm.role,callback:function(r){e.$set(e.regForm,"role",r)},expression:"regForm.role"}},[a("a-select-option",{attrs:{value:"customer"}},[e._v(" 普通用户 ")]),a("a-select-option",{attrs:{value:"admin"}},[e._v(" 管理员用户 ")])],1)],1),a("a-form-model-item",{attrs:{"wrapper-col":{span:14,offset:4}}},[a("a-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("regForm")}}},[e._v(" 注册 ")]),a("a-button",{staticStyle:{"margin-left":"10px"},on:{click:function(r){return e.resetForm("regForm")}}},[e._v(" 重置 ")])],1)],1),a("router-link",{staticClass:"login-to",attrs:{to:{name:"Login"}}},[e._v("已有账号？去登录")]),a("router-link",{staticClass:"login-to",attrs:{to:{name:"Code"}}},[e._v("还没有验证码？去获取")])],1)},o=[],s=a("1da1"),n=(a("96cf"),{data:function(){var e=this,r=/[a-zA-Z0-9_\-\.]+\@([a-zA-Z0-9_\-\.])+\.([a-zA-Z]{2,4})$/,a=function(e,a,t){return a?r.test(a)?t():t(new Error("邮箱格式不正确")):t(new Error("请输入邮箱"))},t=function(e,r,a){return r?a():a(new Error("".concat(e.field,"不能为空")))},o=function(r,a,t){""===a?t(new Error("请输入密码")):(""!==e.regForm.checkPass&&e.$refs.regForm.validateField("checkPass"),t())},s=function(r,a,t){""===a?t(new Error("请再次输入密码")):a!==e.regForm.password?t(new Error("两次密码不一致")):t()};return{regForm:{email:"",username:"",password:"",checkPass:"",code:"",role:""},rules:{email:[{validator:a,trigger:"change"}],username:[{validator:t,trigger:"change"}],password:[{validator:o,trigger:"change"}],checkPass:[{validator:s,trigger:"change"}],code:[{validator:t,trigger:"change"}]},layout:{labelCol:{span:4},wrapperCol:{span:14}}}},methods:{submitForm:function(e){var r=this;this.$refs[e].validate(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(a){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=7;break}return e.next=3,r.$store.dispatch("loginUser/reg",r.regForm);case 3:t=e.sent,t?r.$router.push({name:"Login"}):(alert(r.$store.state.loginUser.err),"该用户已经注册，请直接登陆"===r.$store.state.loginUser.err&&r.$router.push({name:"Login"})),e.next=8;break;case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}())},resetForm:function(e){this.$refs[e].resetFields()}}}),l=n,i=(a("56f6"),a("2877")),c=Object(i["a"])(l,t,o,!1,null,"8d9b1ed4",null);r["default"]=c.exports},"56f6":function(e,r,a){"use strict";a("afd7")},afd7:function(e,r,a){}}]);
//# sourceMappingURL=chunk-7baa909e.f2612781.js.map