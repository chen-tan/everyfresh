{"version":3,"sources":["webpack:///./src/views/page/ProductAdd.vue?9b19","webpack:///./src/components/BasicDetail.vue?b4c8","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./src/components/SaleDetail.vue?0026","webpack:///./src/views/page/ProductAdd.vue?087a","webpack:///./src/components/BasicDetail.vue?8c68","webpack:///src/components/BasicDetail.vue","webpack:///./src/components/BasicDetail.vue?b467","webpack:///./src/components/BasicDetail.vue","webpack:///./src/components/SaleDetail.vue?e031","webpack:///src/components/SaleDetail.vue","webpack:///./src/components/SaleDetail.vue?5c8f","webpack:///./src/components/SaleDetail.vue","webpack:///src/views/page/ProductAdd.vue","webpack:///./src/views/page/ProductAdd.vue?897c","webpack:///./src/views/page/ProductAdd.vue"],"names":["$","$find","find","addToUnscopables","FIND","SKIPS_HOLES","Array","target","proto","forced","callbackfn","this","arguments","length","undefined","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","current","_l","item","key","title","_b","form","on","next","text","_e","prev","submit","staticRenderFns","ref","rules","span","model","value","callback","$$v","$set","expression","handleChange","_n","cate","id","_v","_s","name","resetForm","data","categoryItems","desc","category","c_items","methods","$refs","ruleForm","resetFields","computed","categoryList","$store","state","component","loginUser","fileList","handlePreview","previewVisible","handleCancel","staticStyle","previewImage","getBase64","file","Promise","reader","readAsDataURL","onload","onerror","props","type","Object","require","images","price","inventory","unit","$emit","validate","valid","console","log","push","response","url","dispatch","created","uid","index","status","components"],"mappings":"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","file":"js/chunk-768ae83c.0e80173b.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductAdd.vue?vue&type=style&index=0&id=15e6dba2&lang=less&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BasicDetail.vue?vue&type=style&index=0&id=649e19da&lang=less&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaleDetail.vue?vue&type=style&index=0&id=f8ebc73a&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"product-add\"},[_c('a-steps',{staticClass:\"steps-container\",attrs:{\"current\":_vm.current}},_vm._l((_vm.steps),function(item){return _c('a-step',{key:item.title,attrs:{\"title\":item.title}})}),1),_c('div',{staticClass:\"steps-content\"},[(_vm.current===0)?_c('basic-detail',_vm._b({attrs:{\"form\":_vm.form},on:{\"next\":_vm.next}},'basic-detail',_vm.text,false)):_vm._e(),(_vm.current===1)?_c('sale-detail',{attrs:{\"form\":_vm.form},on:{\"prev\":_vm.prev,\"submit\":_vm.submit}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"basic-detail\"},[_c('a-form-model',{ref:\"ruleForm\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"labelCol\":{ span: 5 },\"wrapperCol\":{ span: 14 }}},[_c('a-form-model-item',{ref:\"title\",attrs:{\"label\":\"副标题\",\"prop\":\"title\",\"required\":\"\"}},[_c('a-input',{model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}})],1),_c('a-form-model-item',{attrs:{\"label\":\"商品描述\",\"prop\":\"desc\"}},[_c('a-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.form.desc),callback:function ($$v) {_vm.$set(_vm.form, \"desc\", $$v)},expression:\"form.desc\"}})],1),_c('a-form-model-item',{attrs:{\"label\":\"商品类目\",\"prop\":\"category\"}},[_c('a-select',{attrs:{\"placeholder\":\"请选择商品类目\",\"allowClear\":\"\"},on:{\"change\":_vm.handleChange},model:{value:(_vm.form.category),callback:function ($$v) {_vm.$set(_vm.form, \"category\", _vm._n($$v))},expression:\"form.category\"}},_vm._l((_vm.categoryList),function(cate){return _c('a-select-option',{key:cate.id,attrs:{\"value\":cate.id}},[_vm._v(\" \"+_vm._s(cate.name)+\" \")])}),1),_c('a-select',{attrs:{\"placeholder\":\"请选择商品子类目\",\"allowClear\":\"\"},model:{value:(_vm.form.c_item),callback:function ($$v) {_vm.$set(_vm.form, \"c_item\", $$v)},expression:\"form.c_item\"}},_vm._l((_vm.categoryItems),function(item){return _c('a-select-option',{key:item,attrs:{\"value\":item}},[_vm._v(\" \"+_vm._s(item)+\" \")])}),1)],1),_c('a-form-model-item',{ref:\"tags\",attrs:{\"label\":\"商品标签\",\"prop\":\"tags\",\"required\":\"\"}},[_c('a-select',{attrs:{\"mode\":\"tags\",\"placeholder\":\"请选择商品标签\",\"default-value\":['包邮，最晚次日达']},model:{value:(_vm.form.tags),callback:function ($$v) {_vm.$set(_vm.form, \"tags\", $$v)},expression:\"form.tags\"}},[_c('a-select-option',{attrs:{\"value\":\"包邮，最晚次日达\"}},[_vm._v(\" 包邮，最晚次日达 \")])],1)],1),_c('div',{staticClass:\"btn-group\"},[_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.next}},[_vm._v(\" 下一步 \")]),_c('a-button',{on:{\"click\":_vm.resetForm}},[_vm._v(\" 重置 \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"basic-detail\">\r\n    <a-form-model\r\n      ref=\"ruleForm\"\r\n      :model=\"form\"\r\n      :rules=\"rules\"\r\n      :labelCol=\"{ span: 5 }\"\r\n      :wrapperCol=\"{ span: 14 }\"\r\n    >\r\n      <a-form-model-item ref=\"title\" label=\"副标题\" prop=\"title\" required>\r\n        <a-input v-model=\"form.title\" />\r\n      </a-form-model-item>\r\n      <a-form-model-item label=\"商品描述\" prop=\"desc\">\r\n        <a-input v-model=\"form.desc\" type=\"textarea\" />\r\n      </a-form-model-item>\r\n      <a-form-model-item label=\"商品类目\" prop=\"category\">\r\n        <a-select\r\n          v-model.number=\"form.category\"\r\n          placeholder=\"请选择商品类目\"\r\n          allowClear\r\n          @change=\"handleChange\"\r\n        >\r\n          <a-select-option v-for=\"cate in categoryList\" :key=\"cate.id\" :value=\"cate.id\">\r\n              {{ cate.name }}\r\n          </a-select-option>\r\n        </a-select>\r\n        <a-select\r\n          v-model=\"form.c_item\"\r\n          placeholder=\"请选择商品子类目\"\r\n          allowClear\r\n        >\r\n          <a-select-option v-for=\"item in categoryItems\" :key=\"item\" :value=\"item\">\r\n              {{ item }}\r\n          </a-select-option>\r\n        </a-select>\r\n      </a-form-model-item>\r\n      <a-form-model-item ref=\"tags\" label=\"商品标签\" prop=\"tags\" required>\r\n        <a-select\r\n          mode=\"tags\"\r\n          v-model=\"form.tags\"\r\n          placeholder=\"请选择商品标签\"\r\n          :default-value=\"['包邮，最晚次日达']\"\r\n        >\r\n          <a-select-option value=\"包邮，最晚次日达\">\r\n            包邮，最晚次日达\r\n          </a-select-option>\r\n        </a-select>\r\n      </a-form-model-item>\r\n      <div class=\"btn-group\">\r\n        <a-button type=\"primary\" @click=\"next\">\r\n            下一步\r\n        </a-button>\r\n        <a-button @click=\"resetForm\">\r\n          重置\r\n        </a-button>\r\n      </div>\r\n    </a-form-model>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    props:{\r\n        form:{\r\n          type:Object,\r\n          require:true,\r\n        }\r\n    },\r\n    created(){\r\n    },\r\n  data() {\r\n    return {\r\n      categoryItems:[],\r\n      rules: {\r\n        title: [\r\n          {\r\n            required: true,\r\n            message: \"请输入标题\",\r\n            trigger: \"change\",\r\n          },\r\n        ],\r\n        desc: [\r\n          {\r\n            required: true,\r\n            message: \"请输入商品描述\",\r\n            trigger: \"change\",\r\n          },\r\n        ],\r\n        category: [\r\n          {\r\n            required: true,\r\n            message: \"请选择商品类目\",\r\n            trigger: \"change\",\r\n          },\r\n        ],\r\n        c_items: [\r\n          { \r\n            required: true, \r\n            message: \"请选择商品子类目\", \r\n            trigger: \"change\" \r\n          },\r\n        ],\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    next(){\r\n        this.$refs.ruleForm.validate((valid) => {\r\n            if (valid) {\r\n            this.$emit('next');\r\n            return true;\r\n            } else {\r\n            console.log(\"error submit!!\");\r\n            return false;\r\n            }\r\n        });\r\n    },\r\n    resetForm() {\r\n      this.$refs.ruleForm.resetFields();\r\n    },\r\n    handleChange(val){\r\n        this.categoryItems=this.categoryList.find(c=>c.id===val)['c_items'];\r\n    }\r\n  },\r\n  computed: {\r\n    categoryList() {\r\n      if ((this.$store.state.categoryList.data)) {\r\n        return this.$store.state.categoryList.data;\r\n      }else{\r\n          this.$store.dispatch('categoryList/getCategoryList');\r\n          return this.$store.state.categoryList.data;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.btn-group{\r\n    width:100%;\r\n    text-align:center;\r\n    button{\r\n        margin-right:20px;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BasicDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BasicDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BasicDetail.vue?vue&type=template&id=649e19da&scoped=true&\"\nimport script from \"./BasicDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./BasicDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BasicDetail.vue?vue&type=style&index=0&id=649e19da&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"649e19da\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sale-detail\"},[_c('a-form-model',{ref:\"ruleForm\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"labelCol\":{ span: 5 },\"wrapperCol\":{ span: 14 }}},[_c('a-form-model-item',{ref:\"price\",attrs:{\"label\":\"商品售价\",\"prop\":\"price\",\"required\":\"\"}},[_c('a-input',{model:{value:(_vm.form.price),callback:function ($$v) {_vm.$set(_vm.form, \"price\", _vm._n($$v))},expression:\"form.price\"}})],1),_c('a-form-model-item',{ref:\"price_off\",attrs:{\"label\":\"商品折扣价\",\"prop\":\"price_off\"}},[_c('a-input',{model:{value:(_vm.form.price_off),callback:function ($$v) {_vm.$set(_vm.form, \"price_off\", _vm._n($$v))},expression:\"form.price_off\"}})],1),_c('a-form-model-item',{ref:\"inventory\",attrs:{\"label\":\"商品库存\",\"prop\":\"inventory\",\"required\":\"\"}},[_c('a-input',{model:{value:(_vm.form.inventory),callback:function ($$v) {_vm.$set(_vm.form, \"inventory\", _vm._n($$v))},expression:\"form.inventory\"}})],1),_c('a-form-model-item',{ref:\"unit\",attrs:{\"label\":\"计量单位\",\"prop\":\"unit\",\"required\":\"\"}},[_c('a-input',{model:{value:(_vm.form.unit),callback:function ($$v) {_vm.$set(_vm.form, \"unit\", $$v)},expression:\"form.unit\"}})],1),_c('a-form-model-item',{attrs:{\"wrapperCol\":{ span: 19 }}},[_c('div',{staticClass:\"clearfix img-upload\"},[_c('a-upload',{attrs:{\"action\":(\"https://mallapi.duyiedu.com/upload/images?appkey=\" + (_vm.$store.state.loginUser.data.appkey)),\"list-type\":\"picture-card\",\"file-list\":_vm.fileList,\"name\":\"avatar\"},on:{\"preview\":_vm.handlePreview,\"change\":_vm.handleChange}},[(_vm.fileList.length < 8)?_c('div',[_c('a-icon',{attrs:{\"type\":\"plus\"}}),_c('div',{staticClass:\"ant-upload-text\"},[_vm._v(\"上传\")])],1):_vm._e()]),_c('a-modal',{attrs:{\"visible\":_vm.previewVisible,\"footer\":null},on:{\"cancel\":_vm.handleCancel}},[_c('img',{staticStyle:{\"width\":\"100%\"},attrs:{\"alt\":\"example\",\"src\":_vm.previewImage}})])],1)]),_c('div',{staticClass:\"btn-group\"},[_c('a-button',{on:{\"click\":_vm.prev}},[_vm._v(\" 上一步 \")]),_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\" 提交 \")]),_c('a-button',{on:{\"click\":_vm.resetForm}},[_vm._v(\" 重置 \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"sale-detail\">\r\n    <a-form-model\r\n      ref=\"ruleForm\"\r\n      :model=\"form\"\r\n      :rules=\"rules\"\r\n      :labelCol=\"{ span: 5 }\"\r\n      :wrapperCol=\"{ span: 14 }\"\r\n    >\r\n      <a-form-model-item ref=\"price\" label=\"商品售价\" prop=\"price\" required>\r\n        <a-input v-model.number=\"form.price\" />\r\n      </a-form-model-item>\r\n      <a-form-model-item ref=\"price_off\" label=\"商品折扣价\" prop=\"price_off\">\r\n        <a-input v-model.number=\"form.price_off\" />\r\n      </a-form-model-item>\r\n      <a-form-model-item\r\n        ref=\"inventory\"\r\n        label=\"商品库存\"\r\n        prop=\"inventory\"\r\n        required\r\n      >\r\n        <a-input v-model.number=\"form.inventory\" />\r\n      </a-form-model-item>\r\n      <a-form-model-item ref=\"unit\" label=\"计量单位\" prop=\"unit\" required>\r\n        <a-input v-model=\"form.unit\" />\r\n      </a-form-model-item>\r\n      <a-form-model-item :wrapperCol=\"{ span: 19 }\">\r\n        <div class=\"clearfix img-upload\">\r\n          <a-upload\r\n            :action=\"`https://mallapi.duyiedu.com/upload/images?appkey=${$store.state.loginUser.data.appkey}`\"\r\n            list-type=\"picture-card\"\r\n            :file-list=\"fileList\"\r\n            name=\"avatar\"\r\n            @preview=\"handlePreview\"\r\n            @change=\"handleChange\"\r\n          >\r\n            <div v-if=\"fileList.length < 8\">\r\n              <a-icon type=\"plus\" />\r\n              <div class=\"ant-upload-text\">上传</div>\r\n            </div>\r\n          </a-upload>\r\n          <a-modal\r\n            :visible=\"previewVisible\"\r\n            :footer=\"null\"\r\n            @cancel=\"handleCancel\"\r\n          >\r\n            <img alt=\"example\" style=\"width: 100%\" :src=\"previewImage\" />\r\n          </a-modal>\r\n        </div>\r\n      </a-form-model-item>\r\n      <div class=\"btn-group\">\r\n        <a-button @click=\"prev\"> 上一步 </a-button>\r\n        <a-button type=\"primary\" @click=\"submit\"> 提交 </a-button>\r\n        <a-button @click=\"resetForm\"> 重置 </a-button>\r\n      </div>\r\n    </a-form-model>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nfunction getBase64(file) {\r\n  return new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => resolve(reader.result);\r\n    reader.onerror = error => reject(error);\r\n  });\r\n}\r\nexport default {\r\n  props: {\r\n    form: {\r\n      type: Object,\r\n      require: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      previewVisible: false,\r\n      previewImage: \"\",\r\n      images:[],\r\n      fileList: [],\r\n      rules: {\r\n        price: [\r\n          {\r\n            required: true,\r\n            type: \"number\",\r\n            message: \"请输入价格\",\r\n            trigger: \"change\",\r\n          },\r\n        ],\r\n        inventory: [\r\n          {\r\n            required: true,\r\n            type: \"number\",\r\n            message: \"请输入商品库存\",\r\n            trigger: \"change\",\r\n          },\r\n        ],\r\n        unit: [\r\n          {\r\n            required: true,\r\n            message: \"请输入商品计量单位\",\r\n            trigger: \"change\",\r\n          },\r\n        ],\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    prev() {\r\n      this.$emit(\"prev\");\r\n    },\r\n    submit() {\r\n      this.$refs.ruleForm.validate((valid) => {\r\n        if (valid) {\r\n          this.$emit(\"submit\",this.images);\r\n          return true;\r\n        } else {\r\n          console.log(\"error submit!!\");\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    resetForm() {\r\n      this.$refs.ruleForm.resetFields();\r\n    },\r\n    handleCancel() {\r\n      this.previewVisible = false;\r\n    },\r\n    async handlePreview(file) {\r\n      if (!file.url && !file.preview) {\r\n        file.preview = await getBase64(file.originFileObj);\r\n      }\r\n      this.previewImage = file.url || file.preview;\r\n      this.previewVisible = true;\r\n    },\r\n    handleChange({ file,fileList }) {\r\n      if(file.status==='done'){\r\n        //上传成功\r\n        if(file.response.status==='success'){\r\n          this.images.push(file.response.data.url);\r\n        }\r\n      }else if(file.status==='removed'){\r\n        //移除图片\r\n        if(file.response){\r\n          const url=file.response.data.url;\r\n          this.images=this.images.filter(i=>i!==url);\r\n        }else{\r\n          const url = file.url;\r\n          this.images=this.images.filter(i=>i!==url);\r\n        }\r\n      }\r\n      this.fileList=fileList;\r\n    }\r\n  },\r\n  computed: {\r\n    categoryList() {\r\n      if (this.$store.state.categoryList.data) {\r\n        return this.$store.state.categoryList.data;\r\n      } else {\r\n        this.$store.dispatch(\"categoryList/getCategoryList\");\r\n        return this.$store.state.categoryList.data;\r\n      }\r\n    },\r\n  },\r\n  created(){\r\n    if(this.form.images.length){\r\n      this.images=[...this.form.images];\r\n      this.fileList=this.form.images.map((item,index)=>{\r\n        return {\r\n          uid: index,\r\n          name: `image${index}.png`,\r\n          status: 'done',\r\n          url: item\r\n        }\r\n      })\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.sale-detail {\r\n  .img-upload {\r\n    max-width: 1080px;\r\n    margin: 10px auto;\r\n    padding-left: 26.3%;\r\n  }\r\n  .btn-group {\r\n    width: 100%;\r\n    text-align: center;\r\n    button {\r\n      margin-right: 20px;\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaleDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaleDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SaleDetail.vue?vue&type=template&id=f8ebc73a&scoped=true&\"\nimport script from \"./SaleDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./SaleDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SaleDetail.vue?vue&type=style&index=0&id=f8ebc73a&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f8ebc73a\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"product-add\">\r\n    <a-steps :current=\"current\" class=\"steps-container\">\r\n      <a-step v-for=\"item in steps\" :key=\"item.title\" :title=\"item.title\" />\r\n    </a-steps>\r\n    <div class=\"steps-content\">\r\n        <basic-detail v-bind=\"text\" v-if=\"current===0\" :form=\"form\" @next=\"next\" />\r\n        <sale-detail v-if=\"current===1\" :form=\"form\" @prev=\"prev\" @submit=\"submit\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport BasicDetail from '../../components/BasicDetail.vue';\r\nimport SaleDetail from '../../components/SaleDetail.vue';\r\nimport api from '../../api/index'\r\nexport default {\r\n  components: { BasicDetail, SaleDetail },\r\n      data() {\r\n        return {\r\n          current: 0,\r\n          steps: [\r\n            {\r\n              title: '填写商品基本信息',\r\n            },\r\n            {\r\n              title: '填写商品销售信息',\r\n            },\r\n          ],\r\n          form:{\r\n            title: \"\",\r\n            desc: \"\",\r\n            category: 0,\r\n            c_item: [],\r\n            tags: [],\r\n            price: 0,\r\n            price_off: 0,\r\n            inventory: 0,\r\n            unit: \"\",\r\n            images:[],\r\n          },\r\n          text:{\r\n            a:1,\r\n            b:'haha',\r\n            c:{\r\n              d:'obj'\r\n            }\r\n          }\r\n        };\r\n      },\r\n      methods: {\r\n        next() {\r\n          this.current++;\r\n        },\r\n        prev() {\r\n          this.current--;\r\n        },\r\n        async submit(images){\r\n          if(this.$route.params.id){\r\n            //编辑商品提交\r\n            this.form.images=[...images];\r\n            const resp = await api.editProduct(this.form);\r\n            if(resp.status==='success'){\r\n              this.$router.push({\r\n                name:'ProductList'\r\n              })\r\n            }else{\r\n              alert('添加失败，请检查商品信息是否填写正确');\r\n            }\r\n          }else{\r\n            // 添加商品提交\r\n            this.form.images=[...images];\r\n            const resp = await api.add(this.form);\r\n            if(resp.status==='success'){\r\n              // 添加商品成功\r\n              this.$router.push({\r\n                name:'ProductList'\r\n              })\r\n            }else{\r\n              alert('添加失败，请检查商品信息是否填写正确');\r\n            }\r\n          }\r\n        }\r\n      },\r\n      async created(){\r\n        const id=this.$route.params.id;\r\n        if(id){\r\n          //编辑页面\r\n          const resp = await api.detail(id);\r\n          if(resp.status==='success'){\r\n            this.form=resp.data;\r\n          }\r\n        }else{\r\n          //添加页面\r\n\r\n        }\r\n      },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.product-add{\r\n  .steps-container{\r\n    width:50%;\r\n    margin:20px auto;\r\n} \r\n.steps-action {\r\n  width:50%;\r\n  margin:34px auto;\r\n  .steps-btn{\r\n    padding:0 25px;\r\n  }\r\n}\r\n}\r\n\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductAdd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProductAdd.vue?vue&type=template&id=15e6dba2&scoped=true&\"\nimport script from \"./ProductAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./ProductAdd.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProductAdd.vue?vue&type=style&index=0&id=15e6dba2&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"15e6dba2\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}